directory = File.dirname(__FILE__)

require "#{directory}/../vagrant"

VagrantDeployment.defaults_include(
  'machines' => {
    'windows' => {
      'box' => VagrantDockerWindowsMachine.defaults['box'],
    },
    'linux' => {
      'box' => VagrantDockerLinuxMachine.defaults['box'],
    },
  }
)

VagrantMachine.defaults_include(
  'provisioners' => {
    'docker' => {
      'runs' => [
        'name' => 'hello-world',
        'image' => 'hello-world',
        'daemonize' => 'false',
        'restart' => 'no',
      ],
    },
  }
)

VagrantDeployment.configure(directory, 'component' => 'docker-provisioner')
